<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css">
  <!-- добавим стили mocha для отображения результатов -->
  <link rel="stylesheet" href="/css/main.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
  <!-- добавляем сам фреймворк mocha -->
  <script>mocha.setup('bdd');</script><!-- включаем режим тестирования в стиле BDD -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script><!-- добавим chai -->
  <script>let assert = chai.assert;</script>
  <!-- chai предоставляет большое количество функций. Объявим assert глобально -->
  <title>JavaScript</title>
</head>

<body style="background-color: whitesmoke;">
  <h1 id="hello" class="heading" style="color: red;">Hello World!</h1>

  <pre id="ball" class="droppable">
  |\   /|
   \|_|/
   /. .\
  =\_Y_/=
   {>o<}
  </pre>
<style>

#slider {
  margin: 0 auto;
  border-radius: 5px;
  background: #E0E0E0;
  background: -webkit-gradient(linear, left top, right bottom, from(#E0E0E0), to(#EEEEEE));
  background: linear-gradient(left top, #E0E0E0, #EEEEEE);
  width: 310px;
  height: 15px;
  margin: 5px;
}

#thumb {
  width: 10px;
  height: 25px;
  border-radius: 3px;
  position: relative;
  left: 150px;
  top: -5px;
  background: blue;
  cursor: pointer;
}
</style>

  <div style="display: flex; flex-direction: column; align-items: center;">
    <div id="container" style="width: 700px; height: 700px; display: flex; align-items: center;">
      <img style="max-width:50%; margin: auto;" src="https://instagram.fiev22-1.fna.fbcdn.net/v/t51.2885-15/e35/120897659_197127948463447_3750127333047493306_n.jpg?tp=1&_nc_ht=instagram.fiev22-1.fna.fbcdn.net&_nc_cat=107&_nc_ohc=0mCCWzMXrp4AX9Ew9OE&oh=9b704a9f041c03ca010d46c8a32e96bc&oe=607C7500" alt="">
   </div>
    <div id="slider">
      <div id="thumb"></div>
    </div>  
  </div>
  
  <script>

    console.log(container.querySelector('img').style.maxWidth)
    thumb.addEventListener('mousedown', function (event) {
      thumb.ondragstart = function () {
        return false
      }
      event.preventDefault()
      
      let shiftX = event.clientX - thumb.getBoundingClientRect().left

      function moveAt (clientX) {
        let newX = clientX - slider.getBoundingClientRect().left - shiftX
        if (newX < 0) {
          newX = 0
        } else if (newX > slider.offsetWidth - thumb.offsetWidth) {
          newX = slider.offsetWidth - thumb.offsetWidth
        }
        thumb.style.left = newX + 'px'
        zoom(newX)
      }

      function zoom (newX) {
        let img = container.querySelector('img')
        let percent = newX/(slider.offsetWidth - thumb.offsetWidth) * 100
        img.style.maxWidth = percent + '%'
        console.log(img.offsetWidth)
      }



      moveAt(event.clientX)

      function onMouseMove (event) {
        moveAt(event.clientX)
      }

      document.addEventListener('mousemove', onMouseMove)
      document.addEventListener('mouseup', onMouseUp)

      

      function onMouseUp () {
        document.removeEventListener('mousemove', onMouseMove)
        document.removeEventListener('mouseup', onMouseUp)
      }



    })

  </script>

  <script src="/JS/app.js"></script>

</body>

</html>
